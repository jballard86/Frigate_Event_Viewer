# Frigate Event Viewer

## The Intelligent Command Center for Your Home Security

**Frigate Event Viewer** is a sophisticated, native Android application designed to orchestrate and visualize the data captured by your Frigate NVR system. It acts as the primary mobile interface for the **[Frigate Event Buffer](https://github.com/jballard86/frigate-event-buffer)**, a state-aware backend that transforms raw security footage into a rich, narrative-driven history of your property.

Whether you are on your local network or accessing your system remotely Tailscale, the app provides a seamless, high-performance interface for monitoring every camera in your ecosystem.

---

## Core Pillars of the Application

### 1. Narrative-Driven Event Lifecycle

Powered by the [Frigate Event Buffer](https://github.com/jballard86/frigate-event-buffer), this system tracks every security event through a multi-stage intelligent lifecycle:

- **Detection**: Instantly identifies activity via MQTT and begins the evidence collection process.
- **Context**: AI analyzes the scene to provide a high-level understanding of the activity.
- **Finalization**: Clips are exported and organized with multi-camera evidence for a complete chronological picture.
- **Review**: Large Language Models (LLMs) summarize the event into a concise, human-readable narrative.

### 2. High-Performance Dashboard

The Dashboard serves as your tactical overview, providing real-time data and immediate access to recent activity:

- **Live Evidence**: An embedded video player at the top of the dashboard instantly plays the most recent high-interest event.
- **Smart Stats**: Monitor event frequency (Daily, Weekly, Monthly) and storage health at a glance.
- **System Health**: Real-time monitoring of connectivity to the buffer, server uptime, and active processing threads.

### 3. Native Fluidity with Gesture Navigation

The app is built using Jetpack Compose to ensure a modern, responsive feel that matches the quality of flagship mobile applications:

- **Swipeable Tabs**: Seamlessly move between the Dashboard, Events, and Daily Review using natural horizontal swipes.
- **Synced Navigation**: The bottom navigation bar stays perfectly in sync with your gestures, providing a consistent sense of location.
- **Media3 Integration**: High-performance video playback using the ExoPlayer engine with standard controls and intelligent aspect-ratio handling.

---

## Key Features

### Intelligent Daily Reviews

The app leverages the buffer's GenAI capabilities to generate a comprehensive daily security report. Instead of scrubbing through hours of footage, users can read a Markdown summary of the day’s highlights, organized by threat level and time.

### Multi-Cam Evidence Locker

The backend automatically consolidates events that span across multiple cameras into a single "Consolidated Event." This ensures that if a subject moves from one camera's field of view to another, the journey is presented as one cohesive story.

### Smart Retention & Cleanup

To optimize hardware performance, the system manages a configurable rolling evidence locker. It automatically cleans up old footage and snapshots while allowing critical events to be manually saved and exempted from deletion.

### Event Management Tools

- **Mark as Reviewed**: Quickly clear unreviewed queues with a single tap.
- **Save for Later**: Move critical events into a permanent folder directly from the mobile interface.
- **Deep Timeline**: Review the raw technical timeline of every notification, export, and AI analysis entry generated by the buffer.

---

## Technical Architecture

The app is the front-end companion to a specialized Python backend:

- **Frigate Event Buffer Integration**: Built specifically to interface with the [frigate-event-buffer](https://github.com/jballard86/frigate-event-buffer) processing pipeline.
- **Production Reliability**: The backend operates on a Gunicorn WSGI server to ensure stable, multi-threaded communication with the Android client.
- **AI Integration**: Employs Google Gemini and local models to provide descriptive titles and scene narratives.
- **Efficient Networking**: Utilizing OkHttp with optimized connection pooling for instant data retrieval.
- **Ecosystem Compatibility**: Fully compatible with Home Assistant, Frigate NVR, and Unraid environments.

---

## Setup & Connectivity

The application is designed for private, secure environments.

- **Direct Connection**: Connect the app to your Frigate Event Buffer’s local IP and Port (default 5055).
- **Remote Access**: Fully compatible with Tailscale or similar VPN solutions for secure, encrypted access while away from home.
- **Configuration**: Manage server addresses and user preferences through the integrated Settings menu.
- **Firebase (FCM)**: For push notifications, the app requires `app/google-services.json` from the Firebase Console (Android app in your project). Add the file to the `app/` module; it is gitignored. The Google Services plugin uses it at build time for FCM and related configuration.

